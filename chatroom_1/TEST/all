ChatRoom/
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ ChatRoom.cpp          // èŠå¤©å®¤ä¸»è¦é€»è¾‘
â”‚   â”œâ”€â”€ ChatRoom.h            // èŠå¤©å®¤å¤´æ–‡ä»¶
â”‚   â”œâ”€â”€ ClientHandler.cpp     // å¤„ç†æ¯ä¸ªå®¢æˆ·ç«¯çš„çº¿ç¨‹
â”‚   â”œâ”€â”€ ClientHandler.h       // å¤„ç†å®¢æˆ·ç«¯çš„å¤´æ–‡ä»¶
â”‚   â”œâ”€â”€ Server.cpp            // æœåŠ¡å™¨ç«¯ä»£ç ï¼Œè´Ÿè´£ç›‘å¬å’Œè¿æ¥
â”‚   â”œâ”€â”€ Server.h              // æœåŠ¡å™¨å¤´æ–‡ä»¶
â”‚   â””â”€â”€ Utils.cpp             // è¾…åŠ©å·¥å…·ç±»ï¼Œæ¯”å¦‚å¤„ç†æ¶ˆæ¯çš„ç¼–ç è§£ç ç­‰
â”‚   â””â”€â”€ Utils.h               // è¾…åŠ©å·¥å…·å¤´æ–‡ä»¶
â”‚
â”œâ”€â”€ CMakeLists.txt            // CMakeæ„å»ºæ–‡ä»¶
â””â”€â”€ README.md                 // é¡¹ç›®è¯´æ˜


chatroom-server/
â”‚
â”œâ”€â”€ src/                           # ä¸»æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ server/                    # æœåŠ¡å™¨æ ¸å¿ƒé€»è¾‘
â”‚   â”‚   â”œâ”€â”€ ChatServer.cpp         # ä¸»èŠå¤©æœåŠ¡å™¨å®ç°
â”‚   â”‚   â”œâ”€â”€ ClientSession.cpp      # å®¢æˆ·ç«¯è¿æ¥ä¼šè¯å¤„ç†
â”‚   â”‚   â”œâ”€â”€ MessageRouter.cpp      # æ¶ˆæ¯åˆ†å‘è·¯ç”±
â”‚   â”‚   â””â”€â”€ ...                    # å…¶ä»–é€šä¿¡ç›¸å…³ç»„ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ controllers/              # æ§åˆ¶å™¨ï¼ˆå¤„ç†å…·ä½“å‘½ä»¤æˆ–æ¶ˆæ¯ç±»å‹ï¼‰
â”‚   â”‚   â”œâ”€â”€ UserController.cpp
â”‚   â”‚   â”œâ”€â”€ ChatRoomController.cpp
â”‚   â”‚   â””â”€â”€ MessageController.cpp
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                 # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”œâ”€â”€ UserService.cpp
â”‚   â”‚   â”œâ”€â”€ MessageService.cpp
â”‚   â”‚   â”œâ”€â”€ ChatRoomService.cpp
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ models/                   # æ•°æ®æ¨¡å‹ç±»ï¼ˆç»“æ„ä½“ã€å¯¹è±¡ç­‰ï¼‰
â”‚   â”‚   â”œâ”€â”€ User.hpp
â”‚   â”‚   â”œâ”€â”€ Message.hpp
â”‚   â”‚   â”œâ”€â”€ ChatRoom.hpp
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ database/                 # æ•°æ®è®¿é—®ä¸æŒä¹…åŒ–
â”‚   â”‚   â”œâ”€â”€ DBConnection.cpp      # æ•°æ®åº“è¿æ¥ç®¡ç†ï¼ˆå¦‚ MySQL/PostgreSQLï¼‰
â”‚   â”‚   â”œâ”€â”€ UserRepository.cpp
â”‚   â”‚   â”œâ”€â”€ MessageRepository.cpp
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ protocol/                 # æ¶ˆæ¯åè®®å®šä¹‰ä¸åºåˆ—åŒ–ï¼ˆå¦‚ JSONã€protobufï¼‰
â”‚   â”‚   â”œâ”€â”€ MessageCodec.cpp
â”‚   â”‚   â”œâ”€â”€ ProtocolHandler.cpp
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                    # å…¬å…±å·¥å…·ç±»ï¼ˆåŠ å¯†ã€æ—¶é—´å¤„ç†ã€æ—¥å¿—ï¼‰
â”‚   â”‚   â”œâ”€â”€ Logger.cpp
â”‚   â”‚   â”œâ”€â”€ ConfigLoader.cpp
â”‚   â”‚   â””â”€â”€ UUIDGenerator.cpp
â”‚   â”‚
â”‚   â”œâ”€â”€ main.cpp                  # ç¨‹åºå…¥å£ï¼ˆmain å‡½æ•°ï¼‰
â”‚
â”œâ”€â”€ include/                      # å…¬å…±å¤´æ–‡ä»¶ç›®å½•
â”‚   â””â”€â”€ ï¼ˆä¸ src å¯¹åº”çš„ .hpp/.h æ–‡ä»¶ï¼‰
â”‚
â”œâ”€â”€ config/                       # é…ç½®æ–‡ä»¶ï¼ˆJSONã€INIã€YAMLç­‰ï¼‰
â”‚   â”œâ”€â”€ db_config.json
â”‚   â”œâ”€â”€ server_config.json
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ logs/                         # æ—¥å¿—è¾“å‡ºç›®å½•
â”‚
â”œâ”€â”€ tests/                        # å•å…ƒæµ‹è¯•ä¸é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ test_UserService.cpp
â”‚   â”œâ”€â”€ test_MessageCodec.cpp
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ CMakeLists.txt                # CMake æ„å»ºè„šæœ¬
â”œâ”€â”€ README.md
â””â”€â”€ LICENSE

âœ… 1. æ•°æ®æ¨¡å‹å±‚ï¼ˆModelï¼‰
é¦–å…ˆå®šä¹‰å¥½æœ€åŸºç¡€çš„æ•°æ®ç»“æ„ï¼Œä¾›å…¶ä»–æ¨¡å—è°ƒç”¨ã€‚

models/User.hpp

models/ChatRoom.hpp

models/Message.hpp

âœ… 2. å·¥å…·ç±»ï¼ˆUtilsï¼‰
å†™å¥½å¯†ç åŠ å¯†ã€Token ç”Ÿæˆç­‰åŸºæœ¬å·¥å…·ã€‚

utils/PasswordHasher.cpp/hppï¼ˆä½¿ç”¨ SHA256 + salt æˆ– bcryptï¼‰

utils/TokenGenerator.cpp/hppï¼ˆç”Ÿæˆ session token / UUIDï¼‰

utils/Logger.cpp/hppï¼ˆå¯é€‰ï¼Œç®€å•æ—¥å¿—ç³»ç»Ÿï¼‰

âœ… 3. æ•°æ®è®¿é—®å±‚ï¼ˆRepositoryï¼‰
ç¼–å†™æ•°æ®åº“è®¿é—®é€»è¾‘ï¼ˆæœ€åˆåªå†™ç”¨æˆ·ç›¸å…³çš„ï¼‰ã€‚

database/DBConnection.cpp/hppï¼ˆè¿æ¥æ± æˆ–ç®€å•å°è£…ï¼‰

database/UserRepository.cpp/hpp

âœ… 4. æœåŠ¡å±‚ï¼ˆServiceï¼‰
å¤„ç†ç”¨æˆ·ç™»å½•æ³¨å†Œé€»è¾‘ï¼Œè°ƒç”¨ DAO å’Œå·¥å…·ç±»ã€‚

services/UserService.cpp/hpp

âœ… 5. åè®®å±‚ï¼ˆProtocolï¼‰
å®šä¹‰ä¸å®¢æˆ·ç«¯é€šä¿¡çš„åè®®æ ¼å¼ï¼ˆJSON/Protobuf ç¼–è§£ç ï¼‰ã€‚

protocol/ProtocolHandler.cpp/hpp

protocol/MessageCodec.cpp/hpp

âœ… 6. æ§åˆ¶å™¨å±‚ï¼ˆControllerï¼‰
å®ç°å¤„ç†ç™»å½•/æ³¨å†Œè¯·æ±‚çš„å‡½æ•°ï¼Œå¹¶ç»„ç»‡è¿”å›æ¶ˆæ¯ã€‚

controllers/UserController.cpp/hpp

âœ… 7. Server å±‚
å†™ WebSocket / TCP æœåŠ¡å™¨ï¼Œæ¥æ”¶å®¢æˆ·ç«¯è¯·æ±‚å¹¶è°ƒç”¨å¯¹åº”æ§åˆ¶å™¨ã€‚

server/ChatServer.cpp/hpp

server/ClientSession.cpp/hpp

âœ… 8. main.cpp
å¯åŠ¨æœåŠ¡å™¨ï¼Œç›‘å¬ç«¯å£ï¼Œåˆå§‹åŒ–ä¾èµ–æ¨¡å—ã€‚

ğŸ“ˆ ç¬¬äºŒé˜¶æ®µï¼šèŠå¤©åŠŸèƒ½ï¼ˆç§èŠ/ç¾¤èŠï¼‰
models/Message.hpp & ChatRoom.hpp è¿›ä¸€æ­¥æ‰©å±•

services/MessageService.cppã€ChatRoomService.cpp

database/MessageRepository.cppã€ChatRoomRepository.cpp

controllers/MessageController.cppã€ChatRoomController.cpp

server/MessageRouter.cppï¼šæ¶ˆæ¯åˆ†å‘ã€å¹¿æ’­é€»è¾‘

ğŸ§ª ç¬¬ä¸‰é˜¶æ®µï¼šå¯é€‰ç»„ä»¶
å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—ï¼ˆå¦‚ jobs/MessageQueue.cppï¼‰

Redis ç¼“å­˜ï¼ˆcache/RedisClient.cppï¼‰

ç¦»çº¿æ¶ˆæ¯ã€æ¨é€æœåŠ¡ã€æ—¥å¿—ç³»ç»Ÿ

å•å…ƒæµ‹è¯•ï¼ˆtests/ï¼‰

